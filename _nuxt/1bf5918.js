(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{246:function(t,e,r){"use strict";r.r(e);var n=r(0).a.extend({props:{title:{type:String,required:!0},description:{type:String,required:!1,default:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et\ndolore magna aliqua.\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat."}},data:function(){return{helpText:!1}}}),o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"py-4 bg-white rounded-lg z-30 shadow-lg"},[r("div",{staticClass:"px-4 flex flex-row justify-between items-center"},[r("h2",{staticClass:"font-display"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),r("button",{staticClass:"pl-2",on:{click:function(e){t.helpText=!t.helpText}}},[r("font-awesome-icon",{staticClass:"text-blue-900 text-xl transition duration-300 transform",class:t.helpText?"-rotate-180":"",attrs:{icon:"chevron-down"}})],1)]),t._v(" "),r("div",{staticClass:"overflow-hidden"},[r("transition",{attrs:{"enter-active-class":"animate__animated animate__slideInDown","leave-active-class":"animate__animated animate__slideOutUp"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.helpText,expression:"helpText"}]},[r("div",{staticClass:"w-full bg-gray-300 my-4",staticStyle:{height:"2px"}}),t._v(" "),r("p",{staticClass:"px-4"},[t._v("\n          "+t._s(t.description)+"\n        ")])])])],1)])}),[],!1,null,null,null);e.default=component.exports},247:function(t,e,r){"use strict";var n=r(5),o=r(140)(6),l="findIndex",c=!0;l in[]&&Array(1)[l]((function(){c=!1})),n(n.P+n.F*c,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(72)(l)},249:function(t,e,r){var content=r(261);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("7fa945e2",content,!0,{sourceMap:!1})},250:function(t,e,r){var content=r(264);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("545404b2",content,!0,{sourceMap:!1})},253:function(t,e,r){"use strict";r.r(e);r(56),r(57),r(94),r(33);var n=r(2),o=r(0).a.extend({props:{show:{type:[Boolean,Object],required:!0}},data:function(){return{tbca:null,search:"",selected:null,measureType:"",measureQuantity:1}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/tbca");case 2:r=e.sent,t.tbca=r.tbca;case 4:case"end":return e.stop()}}),e)})))()},computed:{searchSuggestions:function(){var t,e;if(!this.search)return[];var r=this.search.toLowerCase();return(null===(e=null===(t=this.tbca)||void 0===t?void 0:t.filter((function(t){return t.label.toLocaleLowerCase().includes(r)})))||void 0===e?void 0:e.slice(0,4))||[]}},watch:{show:function(t){"boolean"!=typeof t&&(this.selected=t.food,this.measureType=t.measure,this.measureQuantity=t.quantity)}},methods:{submit:function(){this.$emit("boolean"==typeof this.show?"submit":"edit",{food:this.selected,measure:this.measureType,quantity:this.measureQuantity}),this.search="",this.selected=null,this.measureType="",this.measureQuantity=1}}}),l=(r(260),r(6)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{attrs:{show:t.show,describedby:"portion-modal-header"}},[r("form",{staticClass:"bg-white w-full max-w-md opacity-100 rounded-lg overflow-hidden flex flex-col shadow-2xl",attrs:{novalidate:""},on:{submit:function(t){t.preventDefault()}}},[r("header",{staticClass:"bg-blue-100 text-blue-800 p-4 font-display",attrs:{id:"portion-modal-header"}},[t._v("\n      Adicionando uma porção de:\n    ")]),t._v(" "),null==t.selected?r("div",{staticClass:"m-4 mb-6"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"w-full",attrs:{disabled:"boolean"!=typeof t.show,type:"text",placeholder:"O que você comeu nesta refeição?",autocomplete:"off"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),r("ul",{staticClass:"bg-blue-100 px-3 flex flex-col"},t._l(t.searchSuggestions,(function(e){return r("li",{key:e.id},[r("button",{staticClass:"py-3",attrs:{type:"button"},on:{click:function(r){r.preventDefault(),t.selected=e}}},[t._v("\n            "+t._s(e.query)+"\n          ")])])})),0)]):r("div",{staticClass:"m-4"},[r("p",{staticClass:"text-center mb-6"},[t._v("\n        "+t._s(t.selected.label)+"\n      ")]),t._v(" "),r("label",{staticClass:"flex justify-between items-baseline mb-6"},[r("span",{staticClass:"w-32"},[t._v("\n          Medida\n        ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.measureType,expression:"measureType"}],staticClass:"w-56",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.measureType=e.target.multiple?r:r[0]}}},t._l(t.selected.measures,(function(e,n){return r("option",{key:n,domProps:{value:n}},[t._v(t._s(e.description))])})),0)]),t._v(" "),r("label",{staticClass:"flex justify-between items-baseline mb-6"},[r("span",{staticClass:"w-32"},[t._v("\n          Quantidade\n        ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.measureQuantity,expression:"measureQuantity",modifiers:{number:!0}}],staticClass:"w-56",attrs:{type:"number",min:"1"},domProps:{value:t.measureQuantity},on:{input:function(e){e.target.composing||(t.measureQuantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),r("Divider"),t._v(" "),r("div",{staticClass:"px-4 py-2 flex justify-around"},[r("button",{staticClass:"btn btn-tertiary",attrs:{type:"reset"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n        Cancelar\n      ")]),t._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:t.selected,expression:"selected"}],staticClass:"btn btn-primary submit",attrs:{type:"submit"},on:{click:t.submit}},[t._v("\n        Confirmar\n      ")])])],1)])}),[],!1,null,"e24da81e",null);e.default=component.exports;installComponents(component,{Divider:r(73).default,Modal:r(254).default})},254:function(t,e,r){"use strict";r.r(e);var n={name:"Modal",props:{show:{type:[Boolean,Object],required:!0},describedby:{type:String,required:!1,default:""}}},o=r(6),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"fixed z-30 inset-0 bg-black bg-opacity-50 flex justify-center items-center px-4",attrs:{role:"dialog","aria-modal":"true","aria-describedby":"portion-modal-header"}},[this._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},258:function(t,e,r){"use strict";var n=r(5),o=r(259),l=r(141),c=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(l);n(n.P+n.F*c,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},259:function(t,e,r){var n=r(21),o=r(142),l=r(41);t.exports=function(t,e,r,c){var d=String(l(t)),m=d.length,f=void 0===r?" ":String(r),v=n(e);if(v<=m||""==f)return d;var h=v-m,_=o.call(f,Math.ceil(h/f.length));return _.length>h&&(_=_.slice(0,h)),c?_+d:d+_}},260:function(t,e,r){"use strict";r(249)},261:function(t,e,r){(e=r(12)(!1)).push([t.i,".submit[data-v-e24da81e]{padding-left:2rem;padding-right:2rem;font-family:Montserrat,sans-serif;font-weight:600;border-radius:.5rem}",""]),t.exports=e},262:function(t,e,r){var n=r(5),o=r(143)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},263:function(t,e,r){"use strict";r(250)},264:function(t,e,r){(e=r(12)(!1)).push([t.i,"label.horizontal[data-v-f4c13b20]{display:flex;align-items:baseline;margin-top:1rem;margin-bottom:1rem}label.horizontal>*[data-v-f4c13b20]{flex-grow:1}label.horizontal>input[data-v-f4c13b20],label.horizontal>select[data-v-f4c13b20]{max-width:min(50%,12rem)}",""]),t.exports=e},271:function(t,e,r){"use strict";r.r(e);r(22),r(8),r(262);var n=r(0).a.extend({data:function(){return{form:{}}},computed:{valid:function(){for(var t=this.form,e=0,r=Object.values(t);e<r.length;e++){if(!r[e])return!1}return!0}},methods:{submit:function(){var t,e=(new Date).getUTCFullYear()-new Date(this.form.birthDate).getUTCFullYear(),r="female"===this.form.sex?665.09+9.56*this.form.weightKg+1.84*this.form.height-4.67*e:66.47+13.75*this.form.weightKg+5*this.form.height-6.75*e;switch(this.form.activity){case"sedentary":t=1.2*r;break;case"lightly_active":t=1.375*r;break;case"moderately_active":t=1.55*r;break;case"very_active":t=1.725*r;break;default:t=1.9*r}var n={meal:{carbsGoal:.25*t*.5/4,proteinGoal:.25*t*.2/4,fatGoal:.25*t*.3/9},snack:{carbsGoal:.125*t*.5/4,proteinGoal:.125*t*.2/4,fatGoal:.125*t*.3/9}};this.$store.commit("setBioData",{sex:this.form.sex,birthDate:this.form.birthDate,weightKg:this.form.weightKg,height:this.form.height,activity:this.form.activity,mealPlans:n})}}}),o=(r(263),r(6)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{attrs:{show:null===t.$store.state.bioData,describedby:"portion-modal-header"}},[r("form",{staticClass:"bg-white w-full max-w-md opacity-100 rounded-lg overflow-hidden flex flex-col shadow-2xl",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("header",{attrs:{id:"portion-modal-header"}},[r("h2",{staticClass:"bg-blue-100 text-blue-800 p-4 font-display"},[t._v("\n        Informações Físicas\n      ")]),t._v(" "),r("p",{staticClass:"px-4 py-3 bg-gray-200 text-sm lg:text-base"},[t._v("\n        As informações que você está inserindo aqui não são salvas, e só serão utilizadas para essa sessão.\n      ")])]),t._v(" "),r("fieldset",{staticClass:"px-4"},[r("label",{staticClass:"horizontal"},[r("span",[t._v("Sexo")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.sex,expression:"form.sex"}],attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"sex",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"female"}},[t._v("\n            Feminino\n          ")]),t._v(" "),r("option",{attrs:{value:"male"}},[t._v("\n            Masculino\n          ")])])]),t._v(" "),r("label",{staticClass:"horizontal"},[r("span",[t._v("Data de Nascimento")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.birthDate,expression:"form.birthDate"}],attrs:{type:"date",required:""},domProps:{value:t.form.birthDate},on:{input:function(e){e.target.composing||t.$set(t.form,"birthDate",e.target.value)}}})]),t._v(" "),r("label",{staticClass:"horizontal"},[r("span",[t._v("Peso")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.weightKg,expression:"form.weightKg",modifiers:{number:!0}}],attrs:{placeholder:"quilogramas",type:"number",step:".1",min:"40",max:"250",required:""},domProps:{value:t.form.weightKg},on:{input:function(e){e.target.composing||t.$set(t.form,"weightKg",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),r("label",{staticClass:"horizontal"},[r("span",[t._v("Altura")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.height,expression:"form.height",modifiers:{number:!0}}],attrs:{placeholder:"centímetros",type:"number",step:"1",min:"40",max:"250",required:""},domProps:{value:t.form.height},on:{input:function(e){e.target.composing||t.$set(t.form,"height",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),r("label",{staticClass:"flex flex-col items-stretch mt-4 mb-6"},[r("span",[t._v("Nível de Atividade")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.activity,expression:"form.activity"}],attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"activity",e.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:"sedentary"}},[t._v("\n            Sedentário\n          ")]),t._v(" "),r("option",{attrs:{value:"lightly_active"}},[t._v("\n            Pouco Ativo\n          ")]),t._v(" "),r("option",{attrs:{selected:"",value:"moderately_active"}},[t._v("\n            Moderadamente Ativo\n          ")]),t._v(" "),r("option",{attrs:{value:"very_active"}},[t._v("\n            Muito Ativo\n          ")]),t._v(" "),r("option",{attrs:{selected:"",value:"extra_active"}},[t._v("\n            Exageradamente Ativo\n          ")])])])]),t._v(" "),r("Divider"),t._v(" "),r("button",{staticClass:"btn btn-secondary my-6 mx-4",attrs:{type:"submit",disabled:!t.valid}},[t._v("\n      Confirmar\n    ")])],1)])}),[],!1,null,"f4c13b20",null);e.default=component.exports;installComponents(component,{Divider:r(73).default,Modal:r(254).default})},274:function(t,e,r){"use strict";r.r(e);r(247),r(27),r(28),r(8),r(258);var n=r(0),o=r(253),l=n.a.extend({components:{PortionPicker:o.default},data:function(){var t,time=(new Date).getHours();t=time<9?"breakfast":time<11?"snack1":time<15?"lunch":time<18?"snack2":"dinner";var e=new Date,r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear(),l=e.getHours().toString().padStart(2,"0"),c=e.getMinutes().toString().padStart(2,"0");return{portionPicker:!1,portionClicked:null,form:{portions:[],meal_goal:{},meal:t,date:"".concat(o,"-").concat(n,"-").concat(r),time:"".concat(l,":").concat(c)}}},computed:{fat:function(){return this.form.portions.reduce((function(t,e){return t+e.food.measures[e.measure].fat*e.quantity}),0)},carbs:function(){return this.form.portions.reduce((function(t,e){return t+e.food.measures[e.measure].carbs*e.quantity}),0)},protein:function(){return this.form.portions.reduce((function(t,e){return t+e.food.measures[e.measure].protein*e.quantity}),0)},goals:function(){var t,e,r=null===(t=this.$store.state.bioData)||void 0===t?void 0:t.mealPlans;if(!r)return[];switch(this.form.meal){case"snack1":case"snack2":e=r.snack;break;default:e=r.meal}return[{current:this.protein,limit:e.proteinGoal,label:"Proteínas"},{current:this.carbs,limit:e.carbsGoal,label:"Carboidratos"},{current:this.fat,limit:e.fatGoal,label:"Gorduras"}]},overLimit:function(){var t=this.goals.reduce((function(t,g){return g.current>g.limit&&t.push(g.label.toLowerCase()),t}),[]);switch(t.length){case 2:return t.join(" e");case 3:var e=t.pop();return"".concat(t.join(", ")," e ").concat(e);default:return""}}},methods:{addFood:function(t){this.form.portions.push(t),this.portionPicker=!1},editFood:function(t){var e=this,r=this.form.portions.findIndex((function(p){return p===e.portionPicker}));this.$set(this.form.portions,r,t),this.portionPicker=!1},deleteFood:function(t){this.form.portions.splice(t,1)},submit:function(){confirm("Tudo certo?")}}}),c=r(6),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"mx-auto w-full max-w-lg flex flex-col items-stretch gap-8 overflow-visible"},[r("PageHeader",{attrs:{title:"Dieta - Contador de Carboidratos"}}),t._v(" "),r("BioDataModal"),t._v(" "),r("div",{staticClass:"flex flex-col items-stretch gap-6 overflow-visible"},[r("aside",{directives:[{name:"show",rawName:"v-show",value:t.overLimit,expression:"overLimit"}],staticClass:"bg-red-700 text-white text-center rounded p-4 z-30 shadow-lg"},[r("p",[r("em",{staticClass:"font-bold"},[t._v("Cuidado!")]),t._v(" Sua refeição está acima da quantidade recomendada de\n        "),r("strong",{staticClass:"font-bold"},[t._v(t._s(t.overLimit)+".")])])]),t._v(" "),r("div",{staticClass:"grid grid-flow-col place-items-center bg-blue-700 text-white rounded p-4 z-30 shadow-lg"},t._l(t.goals,(function(e){return r("div",{key:e.label,staticClass:"flex flex-col items-center"},[r("p",{staticClass:"text-2xl"},[t._v("\n          "+t._s(e.current.toFixed(0))+"/"+t._s(e.limit.toFixed(0))+"\n          "),r("span",{staticClass:"text-base",staticStyle:{"margin-left":"-0.75ch"}},[t._v("g")])]),t._v(" "),r("p",{staticClass:"text-lg"},[t._v("\n          "+t._s(e.label)+"\n        ")])])})),0),t._v(" "),r("form",{staticClass:"flex flex-col gap-6",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("fieldset",{staticClass:"box flex flex-col"},[0===t.form.portions.length?r("p",{staticClass:"pt-4 pb-6 px-4"},[t._v("\n          Opa, você ainda não adicionou nenhuma porção à sua refeição...\n        ")]):r("table",{staticClass:"table-fixed w-full"},[r("tbody",t._l(t.form.portions,(function(e,n){return r("tr",{key:n,class:{"bg-gray-200":t.portionClicked===n},on:{click:function(e){t.portionClicked=n},mouseleave:function(e){t.portionClicked=null}}},[r("td",{staticClass:"py-3 pl-4"},[t._v("\n                "+t._s(e.food.label)+"\n              ")]),t._v(" "),t.portionClicked!==n?r("td",{staticClass:"border-l-2 border-gray-400 text-right pr-4",staticStyle:{width:"10ch"}},[t._v("\n                "+t._s(e.quantity+" x "+e.measure+e.food.measures[e.measure].unit)+"\n              ")]):r("td",{staticClass:"border-l-2 border-gray-400 pr-1",staticStyle:{width:"10ch"}},[r("div",{staticClass:"w-full flex justify-evenly"},[r("button",[r("font-awesome-icon",{staticClass:"text-gray-700 text-3xl",attrs:{icon:"pen-square"},on:{click:function(r){t.portionPicker=e}}})],1),t._v(" "),r("button",[r("font-awesome-icon",{staticClass:"text-red-700 text-3xl",attrs:{icon:"minus-square"},on:{click:function(e){return t.deleteFood(n)}}})],1)])])])})),0)]),t._v(" "),r("PortionPicker",{attrs:{show:t.portionPicker},on:{close:function(e){t.portionPicker=!1},edit:t.editFood,submit:t.addFood}}),t._v(" "),r("Divider"),t._v(" "),r("button",{staticClass:"btn btn-tertiary",attrs:{type:"button"},on:{click:function(e){t.portionPicker=!0}}},[t._v("\n          Adicionar Porção\n        ")])],1),t._v(" "),r("fieldset",{staticClass:"box p-4 grid grid-cols-2 grid-rows-2 col-gap-8 row-gap-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time,expression:"form.time"}],staticClass:"text-center",attrs:{type:"time",required:""},domProps:{value:t.form.time},on:{input:function(e){e.target.composing||t.$set(t.form,"time",e.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.date,expression:"form.date"}],staticClass:"text-center",attrs:{type:"date",required:""},domProps:{value:t.form.date},on:{input:function(e){e.target.composing||t.$set(t.form,"date",e.target.value)}}}),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.meal,expression:"form.meal"}],staticClass:"col-span-2",attrs:{name:"meal",required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"meal",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"breakfast"}},[t._v("\n            Café da Manhã\n          ")]),t._v(" "),r("option",{attrs:{value:"snack1"}},[t._v("\n            Lanche da Manhã\n          ")]),t._v(" "),r("option",{attrs:{value:"lunch"}},[t._v("\n            Almoço\n          ")]),t._v(" "),r("option",{attrs:{value:"snack2"}},[t._v("\n            Lanche da Tarde\n          ")]),t._v(" "),r("option",{attrs:{value:"dinner"}},[t._v("\n            Jantar\n          ")])]),t._v(" "),r("button",{staticClass:"col-span-2 btn btn-secondary",attrs:{type:"submit"}},[t._v("\n          Registrar Refeição\n        ")])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:r(246).default,BioDataModal:r(271).default,PortionPicker:r(253).default,Divider:r(73).default})}}]);