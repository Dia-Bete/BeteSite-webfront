(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4,5],{231:function(e,t,n){var content=n(233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("e0894b6c",content,!0,{sourceMap:!1})},232:function(e,t,n){"use strict";n(231)},233:function(e,t,n){var r=n(17)((function(i){return i[1]}));r.push([e.i,'.loader[data-v-ccc9dc5a],.loader[data-v-ccc9dc5a]:after,.loader[data-v-ccc9dc5a]:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7-data-v-ccc9dc5a 1.8s ease-in-out infinite;animation:load7-data-v-ccc9dc5a 1.8s ease-in-out infinite}.loader[data-v-ccc9dc5a]{color:#3182ce;font-size:10px;margin:80px auto;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader[data-v-ccc9dc5a]:after,.loader[data-v-ccc9dc5a]:before{content:"";position:absolute;top:0}.loader[data-v-ccc9dc5a]:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader[data-v-ccc9dc5a]:after{left:3.5em}@-webkit-keyframes load7-data-v-ccc9dc5a{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7-data-v-ccc9dc5a{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}',""]),e.exports=r},234:function(e,t,n){"use strict";n.r(t);var r={name:"Modal",props:{show:{type:[Boolean,Object],required:!0},describedby:{type:String,required:!1,default:""}}},o=n(6),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"fixed z-50 inset-0 bg-black bg-opacity-50 flex justify-center items-center px-4",attrs:{role:"dialog","aria-modal":"true","aria-describedby":"portion-modal-header"}},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},235:function(e,t,n){"use strict";n.r(t);n(232);var r=n(6),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loader"})}),[],!1,null,"ccc9dc5a",null);t.default=component.exports},237:function(e,t,n){var content=n(244);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("6016a57e",content,!0,{sourceMap:!1})},243:function(e,t,n){"use strict";n(237)},244:function(e,t,n){var r=n(17)((function(i){return i[1]}));r.push([e.i,".submit[data-v-647a0c83]{border-radius:0.5rem;padding-left:2rem;padding-right:2rem;font-family:Montserrat, sans-serif;font-weight:600}",""]),e.exports=r},248:function(e,t,n){"use strict";n.r(t);var r=n(2),o=(n(97),n(28),n(56),n(57),n(32),n(0).a.extend({fetchDelay:1e3,props:{show:{type:[Boolean,Object],required:!0}},data:function(){return{tbca:null,search:"",selected:null,measureType:"100G",measureQuantity:1}},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/tbca");case 2:n=t.sent,e.tbca=n.tbca;case 4:case"end":return t.stop()}}),t)})))()},computed:{searchSuggestions:function(){var e;if(!this.search)return[];var t=this.search.toLowerCase();return((null===(e=this.tbca)||void 0===e?void 0:e.filter((function(e){return e.label.toLocaleLowerCase().includes(t)})))||[]).sort((function(a,b){return+(a.popularity>b.popularity)||+(a.popularity===b.popularity)-1})).splice(0,4)}},watch:{show:function(e){"boolean"!=typeof e&&(this.selected=e.food,this.measureType=e.measure,this.measureQuantity=e.quantity)}},methods:{submit:function(){this.$emit("boolean"==typeof this.show?"submit":"edit",{food:this.selected,measure:this.measureType,quantity:this.measureQuantity}),this.search="",this.selected=null,this.measureType="",this.measureQuantity=1}}})),c=(n(243),n(6)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{show:e.show,describedby:"portion-modal-header"}},[e.$fetchState.pending?n("Loader"):e.$fetchState.error?n("div",[n("p",{staticClass:"bg-white rounded shadow p-4 text-center"},[e._v("\n      Perdão, houve um erro na comunicação com o servidor.\n      "),n("font-awesome-icon",{staticClass:"text-blue-600",attrs:{icon:"frown",size:"lg"}})],1)]):n("form",{staticClass:"bg-white w-full max-w-md opacity-100 rounded-lg overflow-hidden flex flex-col shadow-2xl",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault()}}},[n("header",{staticClass:"bg-blue-100 text-blue-800 p-4 font-display",attrs:{id:"portion-modal-header"}},[e._v("\n      Adicionando uma porção de:\n    ")]),e._v(" "),null==e.selected?n("div",{staticClass:"m-4 mb-6"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],staticClass:"w-full",attrs:{disabled:"boolean"!=typeof e.show,type:"text",placeholder:"O que você comeu nesta refeição?",autocomplete:"off"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("ul",{staticClass:"bg-blue-100 px-3 flex flex-col"},e._l(e.searchSuggestions,(function(t){return n("li",{key:t.identifier},[n("button",{staticClass:"py-3",attrs:{type:"button"},on:{click:function(n){n.preventDefault(),e.selected=t}}},[e._v("\n            "+e._s(t.query)+"\n          ")])])})),0)]):n("div",{staticClass:"m-4"},[n("p",{staticClass:"text-center mb-6"},[e._v("\n        "+e._s(e.selected.label)+"\n      ")]),e._v(" "),n("label",{staticClass:"flex justify-between items-baseline mb-6"},[n("span",{staticClass:"w-32"},[e._v("\n          Medida\n        ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.measureType,expression:"measureType"}],staticClass:"w-56",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.measureType=t.target.multiple?n:n[0]}}},e._l(e.selected.measures,(function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(e._s(t.description))])})),0)]),e._v(" "),n("label",{staticClass:"flex justify-between items-baseline mb-6"},[n("span",{staticClass:"w-32"},[e._v("\n          Quantidade\n        ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.measureQuantity,expression:"measureQuantity",modifiers:{number:!0}}],staticClass:"w-56",attrs:{type:"number",min:"1"},domProps:{value:e.measureQuantity},on:{input:function(t){t.target.composing||(e.measureQuantity=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),n("Divider"),e._v(" "),n("div",{staticClass:"px-4 py-2 flex justify-around"},[n("button",{staticClass:"btn btn-tertiary",attrs:{type:"reset"},on:{click:function(t){return e.$emit("close")}}},[e._v("\n        Cancelar\n      ")]),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"btn btn-primary submit",attrs:{type:"submit"},on:{click:e.submit}},[e._v("\n        Confirmar\n      ")])])],1)],1)}),[],!1,null,"647a0c83",null);t.default=component.exports;installComponents(component,{Loader:n(235).default,Divider:n(72).default,Modal:n(234).default})}}]);