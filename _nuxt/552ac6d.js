(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{256:function(e,t,o){"use strict";o.r(t);var r=o(10),n=(o(25),o(11),o(137),o(55),o(56),o(91),o(24),o(2)),c=o(0).a.extend({created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("https://trusty-pipe-277616.rj.r.appspot.com/tbca");case 2:o=t.sent,e.search.foods=o.data.tbca;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{isAlert:!1,diet:{carbs:0,fat:0,protein:0,diet_plans:null,foods:Array(),carbs_goal:78,protein_goal:31,fat_goal:20},search:{food:"",food_list:Array()},select:{show:!1,food:{id:"",label:"",measure:"",portion:"",measure_list:Array()}}}},methods:{submit:function(data){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},searchFood:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.select.show=!1,""==(o=t.search.food.toLowerCase().trim())?t.search.food_list=Array():(r=t.search.foods.filter((function(e){return!t.diet.foods.includes(e.food)})),r=t.search.foods.filter((function(e){return e.label.toLowerCase().includes(o)})),t.search.food_list=r.slice(0,20));case 3:case"end":return e.stop()}}),e)})))()},selectFood:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,c,l,d,f,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(t.search.food_list=Array(),t.select.show=!0,n=t.search.foods.filter((function(t){return t.id==e}))[0],t.select.food.id=e,t.select.food.label=n.label,c=Array(),l=0,d=Object.entries(n.measures);l<d.length;l++)f=Object(r.a)(d[l],2),v=f[0],f[1],c.push({id:v,label:n.measures[v].description,info:n.measures[v]});t.select.food.measure_list=c;case 8:case"end":return o.stop()}}),o)})))()},addFood:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.select.food.measure_list.filter((function(t){return t.id==e.select.food.measure}))[0].info,e.diet.foods.push({food_id:e.select.food.id,label:e.select.food.label,measure:e.select.food.measure,quantity:e.select.food.portion,measure_info:o}),e.diet.fat+=o.fat*e.select.food.portion,e.diet.carbs+=o.carbs*e.select.food.portion,e.diet.protein+=o.protein*e.select.food.portion,(e.diet.fat>e.diet.fat_goal||e.diet.carbs>e.diet.carbs_goal||e.diet.protein>e.diet.protein_goal)&&(e.isAlert=!0),e.select={show:!1,food:{id:"",label:"",measure:"",portion:"",measure_list:Array()}};case 7:case"end":return t.stop()}}),t)})))()},deleteFood:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var r,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log(t.diet.foods),r=t.diet.foods.filter((function(t){return t.food_id==e}))[0],t.diet.foods=t.diet.foods.filter((function(t){return t.food_id!=e})),n=r.measure_info,t.diet.fat-=n.fat*r.quantity,t.diet.carbs-=n.carbs*r.quantity,t.diet.protein-=n.protein*r.quantity;case 7:case"end":return o.stop()}}),o)})))()},cancelFood:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.select={show:!1,food:{id:"",label:"",measure:"",portion:"",measure_list:Array()}};case 1:case"end":return t.stop()}}),t)})))()}}}),l=o(7),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"max-w-xl mx-auto px-4 content-center"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.isAlert,expression:"isAlert"}],staticClass:"alert alert-warning alert-dismissible fade show",attrs:{role:"alert"}},[o("strong",[e._v("Cuidado!")]),e._v(" Sua refeição ultrapassa o total de calorias que você deve consumir. Planeje a distribuição dos seus alimentos para evitar ganho de peso.\n        "),e._m(0)]),e._v(" "),o("div",{staticClass:"grid grid-flow-col auto-cols-max items-center"},[o("div",{staticClass:"px-4"},[o("strong",[o("span",[e._v(e._s(e.diet.protein.toFixed(2)))]),e._v(" / "),o("span",[e._v(e._s(e.diet.protein_goal))])]),o("br"),e._v(" "),o("span",[e._v("Proteínas")])]),e._v(" "),o("div",{staticClass:"px-4"},[o("div",{staticClass:"text-xl"},[o("strong",[o("span",[e._v(e._s(e.diet.carbs.toFixed(2)))]),e._v(" / "),o("span",[e._v(e._s(e.diet.carbs_goal))])])]),e._v(" "),o("span",[e._v("Carboidratos")])]),e._v(" "),o("div",{staticClass:"px-4"},[o("strong",[o("span",[e._v(e._s(e.diet.fat.toFixed(2)))]),e._v(" / "),o("span",[e._v(e._s(e.diet.fat_goal))])]),o("br"),e._v(" "),o("span",[e._v("Gorduras")])])]),e._v(" "),o("div",{staticClass:"content-center py-4"},[o("table",{staticClass:"table-auto content-center w-full"},[e._m(1),e._v(" "),o("tbody",e._l(e.diet.foods,(function(t){return o("tr",{key:t.id},[o("td",{staticClass:"w-2/5"},[e._v(e._s(t.label))]),e._v(" "),o("td",{staticClass:"w-1/5"},[e._v(e._s(t.measure)+" g")]),e._v(" "),o("td",{staticClass:"w-1/5"},[e._v(e._s(t.quantity))]),e._v(" "),o("td",{staticClass:"w-1/5"},[o("a",{on:{click:function(o){return e.deleteFood(t.food_id)}}},[e._v("Remover")])])])})),0),e._v(" "),o("tfoot",{directives:[{name:"show",rawName:"v-show",value:this.select.show,expression:"this.select.show"}]},[o("tr",[o("td",{staticClass:"w-2/5"},[e._v(e._s(this.select.food.label))]),e._v(" "),o("td",{staticClass:"w-1/5"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.select.food.measure,expression:"select.food.measure"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.select.food,"measure",t.target.multiple?o:o[0])}}},e._l(e.select.food.measure_list,(function(t){return o("option",{domProps:{value:t.id}},[e._v(e._s(t.label))])})),0)]),e._v(" "),o("td",{staticClass:"w-1/5"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.select.food.portion,expression:"select.food.portion"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.select.food,"portion",t.target.multiple?o:o[0])}}},[o("option",{attrs:{selected:"",value:"0.5"}},[e._v("½")]),e._v(" "),o("option",{attrs:{value:"1"}},[e._v("1")]),e._v(" "),o("option",{attrs:{value:"1.5"}},[e._v("1 ½")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("2")]),e._v(" "),o("option",{attrs:{value:"2.5"}},[e._v("2 ½")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("3")]),e._v(" "),o("option",{attrs:{value:"3.5"}},[e._v("3 ½")])])]),e._v(" "),o("td",{staticClass:"w-1/5"},[o("a",{on:{click:function(t){return e.cancelFood()}}},[e._v("Cancelar")]),e._v(" "),o("a",{on:{click:function(t){return e.addFood()}}},[e._v(" Adicionar")])])])])])]),e._v(" "),o("div",{staticClass:"py-4"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.search.food,expression:"search.food"}],staticClass:"border-solid",attrs:{type:"text",placeholder:"O que você comeu nesta refeição?",autocomplete:"off"},domProps:{value:e.search.food},on:{input:[function(t){t.target.composing||e.$set(e.search,"food",t.target.value)},e.searchFood]}}),e._v(" "),o("div",{staticClass:"grid grid-flow-row auto-rows-max overflow-auto h-50 max-w-sm mx-auto"},e._l(e.search.food_list,(function(t){return o("div",{key:t.id,attrs:{"cursor-pointer":"","hover:bg-indigo-500":""}},[o("a",{on:{click:function(o){return e.selectFood(t.id)}}},[e._v(e._s(t.label))])])})),0)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{staticClass:"w-2/5"},[this._v("Alimento")]),this._v(" "),t("th",{staticClass:"w-1/5"},[this._v("Medida")]),this._v(" "),t("th",{staticClass:"w-1/5 "},[this._v("Porção")]),this._v(" "),t("th",{staticClass:"w-1/5"})])])}],!1,null,null,null);t.default=component.exports}}]);